<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Registro - AhorraApp</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        background: linear-gradient(135deg, #0d5c75, #092b3a);
      }
      .main-card {
        max-width: 1100px;
        width: 100%;
      }
      .carousel-inner img {
        object-fit: contain;
        height: 100%;
        padding: 40px;
      }
    </style>
  </head>

  <body class="d-flex align-items-center justify-content-center min-vh-100">
    <div
      class="card main-card shadow-lg rounded-4 overflow-hidden animate__animated animate__fadeIn"
    >
      <div class="row g-0">
        <!-- Carrusel -->
        <div class="col-md-6 d-none d-md-block bg-light">
          <div id="registroCarousel" class="carousel slide h-100">
            <div class="carousel-inner h-100">
              <div class="carousel-item active h-100">
                <img
                  src="https://cdn-icons-png.flaticon.com/512/2331/2331970.png"
                  class="d-block w-100"
                  alt=""
                />
              </div>
              <div class="carousel-item h-100">
                <img
                  src="https://cdn-icons-png.flaticon.com/512/190/190411.png"
                  class="d-block w-100"
                  alt=""
                />
              </div>
              <div class="carousel-item h-100">
                <img
                  src="https://cdn-icons-png.flaticon.com/512/1998/1998671.png"
                  class="d-block w-100"
                  alt=""
                />
              </div>
            </div>
          </div>
        </div>

        <!-- Formulario -->
        <div class="col-md-6 p-4 bg-white">
          <h3 class="text-center fw-bold mb-3 text-primary">
            <i class="bi bi-coin text-warning"></i> Crear cuenta
          </h3>

          <p class="text-center text-muted">
            Únete a <strong>AhorraApp</strong> y optimiza tus finanzas.
          </p>

          <div id="alert-box" class="alert alert-danger d-none"></div>

          <form id="register-form" novalidate>
            <!-- Nombre -->
            <div class="mb-3">
              <label for="reg-nombre" class="form-label fw-semibold"
                >Nombre</label
              >
              <input id="reg-nombre" class="form-control rounded-3" required />
            </div>

            <!-- Correo -->
            <div class="mb-3">
              <label for="reg-email" class="form-label fw-semibold"
                >Correo</label
              >
              <input
                id="reg-email"
                type="email"
                class="form-control rounded-3"
                required
              />
            </div>

            <!-- Contraseña -->
            <div class="mb-3">
              <label for="reg-pass" class="form-label fw-semibold"
                >Contraseña</label
              >
              <div class="input-group">
                <input
                  id="reg-pass"
                  type="password"
                  minlength="6"
                  class="form-control rounded-3"
                  required
                />
                <span
                  class="input-group-text"
                  onclick="togglePass('reg-pass', this)"
                >
                  <i class="bi bi-eye-fill"></i>
                </span>
              </div>
            </div>

            <!-- Repetir contraseña -->
            <div class="mb-4">
              <label for="reg-pass2" class="form-label fw-semibold"
                >Repetir contraseña</label
              >
              <div class="input-group">
                <input
                  id="reg-pass2"
                  type="password"
                  minlength="6"
                  class="form-control rounded-3"
                  required
                />
                <span
                  class="input-group-text"
                  onclick="togglePass('reg-pass2', this)"
                >
                  <i class="bi bi-eye-fill"></i>
                </span>
              </div>
            </div>

            <!-- Botones -->
            <div class="d-grid gap-2">
              <button
                class="btn btn-primary btn-lg fw-bold rounded-3"
                type="submit"
              >
                <i class="bi bi-person-plus"></i> Crear cuenta
              </button>

              <a
                href="/ahorrapp/login"
                class="btn btn-outline-secondary fw-semibold rounded-3"
              >
                <i class="bi bi-box-arrow-in-right"></i> Ya tengo cuenta
              </a>
            </div>
          </form>

          <!-- Loading -->
          <div id="loading" class="text-center mt-3 d-none">
            <div class="spinner-border text-primary"></div>
            <p class="text-muted small mt-2">Creando cuenta...</p>
          </div>
        </div>
      </div>
    </div>

    <script>
      const togglePass = (id, el) => {
        const input = document.getElementById(id);
        const icon = el.querySelector("i");
        input.type = input.type === "password" ? "text" : "password";
        icon.classList.toggle("bi-eye-slash-fill");
      };
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/service/auth.js"></script>
    <script src="/js/registro.js"></script>
  </body>
</html>
